{"version":3,"sources":["DeckPage.js","QuestionAnswer.js","Flashcard.js","Flashcards.js","FlashcardPage.js","App.js","index.js"],"names":["Container","styled","div","DeckPage","decks","setDecks","useState","newDeckName","setNewDeckName","newDeckCreated","setNewDeckCreated","to","map","deck","value","onChange","e","target","style","marginRight","className","onClick","Question","flashcard","QuestionAnswer","text","question","variant","imageUrl","questionImageUrl","Answer","answer","answerImageUrl","src","alt","styles","maxWidth","statusToColor","correct","incorrect","props","status","Clickable","span","Horizontal","AttemptBadge","Flashcard","setShowAnswer","setFlashcardStatus","deleteFlashcard","margin","attempts","attempt","idx","showAnswer","Flashcards","flashcards","flashcardsList","args","getImageBlobs","rtfData","hexImages","curIdx","length","blipuidIdx","indexOf","hexImgStartIdx","hexImgEndIdx","hexImg","substring","push","trim","filter","_","hexImage","imgByteArray","hexString","cleanedHexString","replace","bytes","i","byte","substr","parseInt","Uint8Array","hexStringToByteArray","Blob","type","blobTodataUrl","blob","Promise","resolve","reject","reader","FileReader","onload","result","onerror","readAsDataURL","Vertical","Breather","FlaschardsContainer","SortOptions","DeleteAllButton","FlashcardPage","deckName","useParams","setFlashcards","db","setDb","useEffect","req","indexedDB","open","console","error","errorCode","onsuccess","request","transaction","objectStore","get","onupgradeneeded","log","createObjectStore","keyPath","handlePaste","a","window","confirm","addFlashcardsFromClipboardData","clipboardData","document","addEventListener","removeEventListener","put","name","textContainsImage","startsWithWhitespace","test","endsWithWhitespace","Boolean","createFlashcards","textData","imageUrls","split","newFlashCards","shift","getData","imageBlobs","imageBlob","flashcardsToAdd","sortFlashcards","updatedFlashcards","sort","b","sortFlashcardsByAttempt","getNumAttempts","reduce","acc","cur","handleShowHideAllFlashcardAnswers","showFlashcardAnswers","shuffleFlashcards","array","randomIndex","currentIndex","Math","floor","random","shuffle","maxHeight","flashcardIndex","App","JSON","parse","localStorage","getItem","setItem","stringify","exact","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0128f7b5.chunk.js","sourcesContent":["import { useState } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.div`\r\n  padding: 1em;\r\n`;\r\n\r\nfunction DeckPage({ decks, setDecks }) {\r\n  const [newDeckName, setNewDeckName] = useState(\"\");\r\n  const [newDeckCreated, setNewDeckCreated] = useState(false);\r\n\r\n  const createNewDeck = () => {\r\n    setDecks([...decks, newDeckName]);\r\n    setNewDeckCreated(true);\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      {newDeckCreated && <Redirect to={`/deck/${newDeckName}`} />}\r\n\r\n      {decks.map((deck) => (\r\n        <div key={deck}>\r\n          <Link to={`/deck/${deck}`}>{deck}</Link>\r\n        </div>\r\n      ))}\r\n\r\n      <input\r\n        value={newDeckName}\r\n        onChange={(e) => setNewDeckName(e.target.value)}\r\n        style={{ marginRight: \"0.5em\" }}\r\n      ></input>\r\n      <button className=\"btn btn-primary\" onClick={createNewDeck}>\r\n        Create New Deck\r\n      </button>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default DeckPage;\r\n","import styled from \"styled-components\";\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n`;\r\n\r\nexport function Question({ flashcard }) {\r\n  return (\r\n    <QuestionAnswer\r\n      text={flashcard.question}\r\n      variant=\"question\"\r\n      imageUrl={flashcard.questionImageUrl}\r\n    />\r\n  );\r\n}\r\n\r\nexport function Answer({ flashcard }) {\r\n  return (\r\n    <QuestionAnswer\r\n      text={flashcard.answer}\r\n      variant=\"answer\"\r\n      imageUrl={flashcard.answerImageUrl}\r\n    />\r\n  );\r\n}\r\n\r\nfunction QuestionAnswer({ text, imageUrl, variant }) {\r\n  return (\r\n    <Container>\r\n      {variant === \"question\" ? <strong>{text}</strong> : <i>{text}</i>}\r\n      {imageUrl && <img src={imageUrl} alt=\"\" styles={{ maxWidth: \"60%\" }} />}\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\nimport { Question, Answer } from \"./QuestionAnswer\";\r\n\r\nconst statusToColor = {\r\n  correct: \"#b9edaf\",\r\n  incorrect: \"#edafb6\",\r\n};\r\n\r\nconst Container = styled.div`\r\n  border: 1px solid #a4a4a4;\r\n  margin: 1em 0em 1em 0em;\r\n  padding: 1em;\r\n  background: ${(props) => statusToColor[props.status]};\r\n  border-radius: 5px;\r\n`;\r\n\r\nconst Clickable = styled.span`\r\n  cursor: pointer;\r\n`;\r\n\r\nconst Horizontal = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst AttemptBadge = styled.span`\r\n  margin: 0.2em;\r\n`;\r\n\r\nfunction Flashcard({\r\n  flashcard,\r\n  setShowAnswer,\r\n  setFlashcardStatus,\r\n  deleteFlashcard,\r\n}) {\r\n  return (\r\n    <Container status={flashcard.status}>\r\n      <Horizontal>\r\n        <div>\r\n          <Clickable onClick={() => setFlashcardStatus(\"correct\")}>\r\n            ✔️\r\n          </Clickable>\r\n          <Clickable onClick={() => setFlashcardStatus(\"incorrect\")}>\r\n            ❌\r\n          </Clickable>\r\n          <Clickable onClick={() => setFlashcardStatus(\"unattempted\")}>\r\n            🔄\r\n          </Clickable>\r\n        </div>\r\n        <Clickable onClick={() => deleteFlashcard()}>🗑️</Clickable>\r\n      </Horizontal>\r\n      <div style={{ margin: \"1em 1em 1em 0em\" }}>\r\n        {flashcard.attempts.map((attempt, idx) => (\r\n          <AttemptBadge\r\n            key={flashcard.question + idx}\r\n            className={`badge badge-${\r\n              attempt === \"correct\" ? \"success\" : \"danger\"\r\n            }`}\r\n          >\r\n            {attempt}\r\n          </AttemptBadge>\r\n        ))}\r\n      </div>\r\n      <Question flashcard={flashcard} />\r\n      <button\r\n        className=\"btn btn-link btn-sm no-margin-left\"\r\n        onClick={() => setShowAnswer(!flashcard.showAnswer)}\r\n      >\r\n        {flashcard.showAnswer ? \"Hide Answer\" : \"Reveal Answer\"}\r\n      </button>\r\n      {flashcard.showAnswer && <Answer flashcard={flashcard} />}\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Flashcard;\r\n","import Flashcard from \"./Flashcard\";\r\n\r\nfunction Flashcards({\r\n  flashcards,\r\n  setShowAnswer,\r\n  setFlashcardStatus,\r\n  deleteFlashcard,\r\n}) {\r\n  const flashcardsList = flashcards.map((flashcard, idx) => (\r\n    <Flashcard\r\n      key={flashcard.question + idx}\r\n      flashcard={flashcard}\r\n      setShowAnswer={(...args) => setShowAnswer(idx, ...args)}\r\n      setFlashcardStatus={(...args) => setFlashcardStatus(idx, ...args)}\r\n      deleteFlashcard={(...args) => deleteFlashcard(idx, ...args)}\r\n    />\r\n  ));\r\n\r\n  return <>{flashcardsList}</>;\r\n}\r\n\r\nexport default Flashcards;\r\n","import { useEffect, useState } from \"react\";\nimport Flashcards from \"./Flashcards\";\nimport styled from \"styled-components\";\nimport { useParams } from \"react-router-dom\";\n\nfunction shuffle(array) {\n  let currentIndex = array.length,\n    randomIndex;\n\n  // While there remain elements to shuffle...\n  while (currentIndex !== 0) {\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex--;\n\n    // And swap it with the current element.\n    [array[currentIndex], array[randomIndex]] = [\n      array[randomIndex],\n      array[currentIndex],\n    ];\n  }\n\n  return array;\n}\n\nfunction getImageBlobs(rtfData) {\n  let hexImages = [];\n  let curIdx = 0;\n  while (curIdx < rtfData.length) {\n    const blipuidIdx = rtfData.indexOf(\"blipuid\", curIdx);\n    if (blipuidIdx === -1) break;\n\n    const hexImgStartIdx = rtfData.indexOf(\"}\", blipuidIdx);\n    const hexImgEndIdx = rtfData.indexOf(\"}\", hexImgStartIdx + 1);\n    const hexImg = rtfData.substring(hexImgStartIdx + 1, hexImgEndIdx);\n\n    hexImages.push(hexImg.trim());\n    curIdx = hexImgEndIdx + 1;\n  }\n\n  // for some reason only every even indexed hex image is valid.\n  return hexImages\n    .filter((_, idx) => idx % 2 === 0)\n    .map((hexImage) => {\n      const imgByteArray = hexStringToByteArray(hexImage);\n      return new Blob([imgByteArray], {\n        type: \"application/octet-stream\",\n      });\n    });\n}\n\nfunction blobTodataUrl(blob) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = () => {\n      resolve(reader.result);\n    };\n    reader.onerror = reject;\n    reader.readAsDataURL(blob);\n  });\n}\n\nfunction hexStringToByteArray(hexString) {\n  const cleanedHexString = hexString.replace(/[^A-Fa-f0-9]/g, \"\");\n  let bytes = [];\n\n  for (let i = 0; i < cleanedHexString.length / 2; i++) {\n    let byte = cleanedHexString.substr(i * 2, 2);\n    bytes[i] = parseInt(byte, 16);\n  }\n  return new Uint8Array(bytes);\n}\n\nconst Container = styled.div`\n  margin: 2em;\n  max-height: 93vh;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Horizontal = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst Vertical = styled.div`\n  overflow: none;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Clickable = styled.span`\n  cursor: pointer;\n`;\n\nconst AttemptBadge = styled.span`\n  margin: 0.2em;\n`;\n\nconst Breather = styled.span`\n  margin-left: 1em;\n  margin-right: 1em;\n  white-space: nowrap;\n`;\n\nconst FlaschardsContainer = styled.div`\n  overflow: auto;\n`;\n\nconst SortOptions = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst DeleteAllButton = styled.div`\n  justify-self: flex-end;\n`;\n\nfunction FlashcardPage() {\n  const { deckName } = useParams();\n\n  const [flashcards, setFlashcards] = useState([]);\n  const [db, setDb] = useState(null);\n\n  useEffect(() => {\n    const req = indexedDB.open(\"flashcards\", 1);\n\n    req.onerror = (e) => {\n      console.error(\n        \"Could not open connection to database, error code: \",\n        e.target.errorCode\n      );\n    };\n\n    req.onsuccess = (e) => {\n      const db = e.target.result;\n      db.onerror = (e) => console.error(e.target.errorCode);\n      setDb(db);\n\n      const transaction = db.transaction(\"decks\");\n      const objectStore = transaction.objectStore(\"decks\");\n      const request = objectStore.get(deckName);\n      request.onsuccess = (e) => {\n        setFlashcards(request.result?.flashcards ?? []);\n      };\n    };\n\n    req.onupgradeneeded = (e) => {\n      console.log(\"Performing DB migration...\");\n      const db = e.target.result;\n      db.createObjectStore(\"decks\", { keyPath: \"name\" });\n    };\n  }, [deckName]);\n\n  useEffect(() => {\n    async function handlePaste(e) {\n      if (\n        flashcards.length > 0 &&\n        !window.confirm(\"Add flashcards from clipboard?\")\n      ) {\n        return;\n      }\n\n      addFlashcardsFromClipboardData(e.clipboardData);\n    }\n\n    document.addEventListener(\"paste\", handlePaste);\n    return () => {\n      document.removeEventListener(\"paste\", handlePaste);\n    };\n  }, [flashcards.length]);\n\n  useEffect(() => {\n    if (db) {\n      const transaction = db.transaction(\"decks\", \"readwrite\");\n      const objectStore = transaction.objectStore(\"decks\");\n      objectStore.put({ name: deckName, flashcards });\n    }\n  }, [db, deckName, flashcards]);\n\n  const textContainsImage = (text) => {\n    if (text === \" \") return true;\n    const startsWithWhitespace = /^\\s/.test(text);\n    const endsWithWhitespace = /\\s$/.test(text);\n    return Boolean(startsWithWhitespace ^ endsWithWhitespace);\n  };\n\n  const createFlashcards = (textData, imageUrls) => {\n    textData = textData.split(/\\t|\\r\\n|\\n/);\n    const newFlashCards = [];\n\n    for (let i = 0; i < textData.length - 1; i = i + 2) {\n      const question = textData[i];\n      const answer = textData[i + 1];\n\n      newFlashCards.push({\n        question,\n        answer,\n        questionImageUrl: textContainsImage(question) ? imageUrls.shift() : \"\",\n        answerImageUrl: textContainsImage(answer) ? imageUrls.shift() : \"\",\n        status: \"unattempted\",\n        showAnswer: false,\n        attempts: [],\n      });\n    }\n\n    if (imageUrls.length > 0) {\n      console.error(\"Something strange happened...\");\n      console.log(textData);\n      console.log(imageUrls);\n    }\n    return newFlashCards;\n  };\n\n  async function addFlashcardsFromClipboardData(clipboardData) {\n    const textData = clipboardData.getData(\"text\");\n    const rtfData = clipboardData.getData(\"text/rtf\");\n    const imageBlobs = getImageBlobs(rtfData);\n\n    const imageUrls = [];\n    for (const imageBlob of imageBlobs) {\n      imageUrls.push(await blobTodataUrl(imageBlob));\n    }\n\n    const flashcardsToAdd = createFlashcards(textData, imageUrls);\n    setFlashcards((flashcards) => [...flashcards, ...flashcardsToAdd]);\n  }\n\n  const setShowAnswer = (flashcardIndex, showAnswer) => {\n    const updatedFlashcards = flashcards.map((flashcard, idx) =>\n      idx !== flashcardIndex ? flashcard : { ...flashcard, showAnswer }\n    );\n    setFlashcards(updatedFlashcards);\n  };\n\n  const setFlashcardStatus = (flashcardIndex, status) => {\n    const updatedFlashcards = flashcards.map((flashcard, idx) =>\n      idx !== flashcardIndex\n        ? flashcard\n        : {\n            ...flashcard,\n            status,\n            attempts:\n              status === \"unattempted\" ? [] : [...flashcard.attempts, status],\n          }\n    );\n    setFlashcards(updatedFlashcards);\n  };\n\n  const sortFlashcards = (status) => {\n    const updatedFlashcards = [...flashcards].sort((a, b) => {\n      if (a.status === status && b.status !== status) return -1;\n      else if (a.status !== status && b.status === status) return 1;\n      return 0;\n    });\n    setFlashcards(updatedFlashcards);\n  };\n\n  const sortFlashcardsByAttempt = (attempt) => {\n    const getNumAttempts = (flashcard) =>\n      flashcard.attempts.reduce((acc, cur) => {\n        if (cur === attempt) {\n          return acc + 1;\n        }\n        return acc;\n      }, 0);\n\n    const updatedFlashcards = [...flashcards].sort(\n      (a, b) => getNumAttempts(b) - getNumAttempts(a)\n    );\n    setFlashcards(updatedFlashcards);\n  };\n\n  const handleShowHideAllFlashcardAnswers = (showFlashcardAnswers) => {\n    setFlashcards(\n      flashcards.map((flashcard) => ({\n        ...flashcard,\n        showAnswer: showFlashcardAnswers,\n      }))\n    );\n  };\n\n  const shuffleFlashcards = () => {\n    setFlashcards(shuffle([...flashcards]));\n  };\n\n  const deleteFlashcard = (flashcardIndex) => {\n    setFlashcards(flashcards.filter((_, idx) => idx !== flashcardIndex));\n  };\n\n  const deleteFlashcards = () => {\n    if (\n      window.confirm(\"Are you sure you want to delete all your flashcards?\")\n    ) {\n      setFlashcards([]);\n    }\n  };\n\n  return (\n    <Container>\n      {flashcards.length > 0 ? (\n        <Horizontal>\n          <div>\n            Sort:\n            <SortOptions>\n              <div>\n                <Clickable onClick={() => sortFlashcards(\"correct\")}>\n                  ✔️\n                </Clickable>\n                <Clickable onClick={() => sortFlashcards(\"incorrect\")}>\n                  ❌\n                </Clickable>\n                <Clickable onClick={() => sortFlashcards(\"unattempted\")}>\n                  🔄\n                </Clickable>\n              </div>\n              <div>\n                <Clickable onClick={() => sortFlashcardsByAttempt(\"correct\")}>\n                  <AttemptBadge className=\"badge badge-success\">\n                    # correct\n                  </AttemptBadge>\n                </Clickable>\n                <Clickable onClick={() => sortFlashcardsByAttempt(\"incorrect\")}>\n                  <AttemptBadge className=\"badge badge-danger\">\n                    # incorrect\n                  </AttemptBadge>\n                </Clickable>\n              </div>\n            </SortOptions>\n          </div>\n          <div>\n            <button\n              style={{ maxHeight: \"50%\" }}\n              onClick={() => shuffleFlashcards()}\n              className=\"btn btn-secondary btn-sm\"\n            >\n              Shuffle\n            </button>\n          </div>\n          <div className=\"btn-group\">\n            <button\n              style={{ maxHeight: \"50%\" }}\n              className=\"btn btn-secondary btn-sm\"\n              onClick={() => handleShowHideAllFlashcardAnswers(true)}\n            >\n              Show Answers\n            </button>{\" \"}\n            <button\n              style={{ maxHeight: \"50%\" }}\n              className=\"btn btn-secondary btn-sm\"\n              onClick={() => handleShowHideAllFlashcardAnswers(false)}\n            >\n              Hide Answers\n            </button>\n          </div>\n          <Vertical>\n            <Breather>\n              Attempted:{\" \"}\n              {\n                <strong>\n                  {flashcards.reduce(\n                    (acc, cur) => (cur.attempts.length > 0 ? acc + 1 : acc),\n                    0\n                  )}\n                </strong>\n              }\n            </Breather>\n            <Breather>\n              Unattempted:{\" \"}\n              {\n                <strong>\n                  {flashcards.reduce(\n                    (acc, cur) => (cur.attempts.length > 0 ? acc : acc + 1),\n                    0\n                  )}\n                </strong>\n              }\n            </Breather>\n            <Breather>Total: {<strong>{flashcards.length}</strong>}</Breather>\n          </Vertical>\n          <DeleteAllButton>\n            <button\n              className=\"btn btn-danger btn-small\"\n              onClick={deleteFlashcards}\n            >\n              Delete flashcards\n            </button>\n          </DeleteAllButton>\n        </Horizontal>\n      ) : (\n        <div>\n          <h2>Copy some data, then use ⌘+V to create flashcards.</h2>\n        </div>\n      )}\n      <FlaschardsContainer>\n        <Flashcards\n          flashcards={flashcards}\n          setShowAnswer={setShowAnswer}\n          setFlashcardStatus={setFlashcardStatus}\n          deleteFlashcard={deleteFlashcard}\n        />\n      </FlaschardsContainer>\n    </Container>\n  );\n}\n\nexport default FlashcardPage;\n","import DeckPage from \"./DeckPage\";\r\nimport FlashcardPage from \"./FlashcardPage\";\r\nimport { BrowserRouter as Router, Link, Route, Switch } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nfunction App() {\r\n  const [decks, setDecks] = useState(\r\n    JSON.parse(localStorage.getItem(\"decks\")) ?? []\r\n  );\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"decks\", JSON.stringify(decks));\r\n  }, [decks]);\r\n\r\n  return (\r\n    <Router>\r\n      <>\r\n        <Link to=\"/\">Decks</Link>\r\n\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <DeckPage decks={decks} setDecks={setDecks} />\r\n          </Route>\r\n          <Route path=\"/deck/:deckName\">\r\n            <FlashcardPage />\r\n          </Route>\r\n        </Switch>\r\n      </>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}