(this.webpackJsonpflashcards=this.webpackJsonpflashcards||[]).push([[0],{35:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var r,c=n(0),a=n.n(c),s=n(25),i=n.n(s),o=(n(35),n(10)),u=n(9),l=n(3),d=n(2),j=n(14),b=n(4),f=n(1),h=b.a.div(r||(r=Object(l.a)(["\n  padding: 1em;\n"])));var O,m,x,p,v,g=function(e){var t=e.decks,n=e.setDecks,r=Object(c.useState)(""),a=Object(o.a)(r,2),s=a[0],i=a[1],l=Object(c.useState)(!1),b=Object(o.a)(l,2),O=b[0],m=b[1];return Object(f.jsxs)(h,{children:[O&&Object(f.jsx)(d.a,{to:"/deck/".concat(s)}),t.map((function(e){return Object(f.jsx)("div",{children:Object(f.jsx)(j.b,{to:"/deck/".concat(e),children:e})},e)})),Object(f.jsx)("input",{value:s,onChange:function(e){return i(e.target.value)},style:{marginRight:"0.5em"}}),Object(f.jsx)("button",{className:"btn btn-primary",onClick:function(){n([].concat(Object(u.a)(t),[s])),m(!0)},children:"Create New Deck"})]})},w=n(30),k=n(12),y=n(19),S=n.n(y),A=n(23),C=b.a.div(O||(O=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n"])));function N(e){var t=e.flashcard;return Object(f.jsx)(D,{text:t.question,variant:"question",imageUrl:t.questionImageUrl})}function F(e){var t=e.flashcard;return Object(f.jsx)(D,{text:t.answer,variant:"answer",imageUrl:t.answerImageUrl})}function D(e){var t=e.text,n=e.imageUrl,r=e.variant;return Object(f.jsxs)(C,{children:["question"===r?Object(f.jsx)("strong",{children:t}):Object(f.jsx)("i",{children:t}),n&&Object(f.jsx)("img",{src:n,alt:"",styles:{maxWidth:"60%"}})]})}var U={correct:"#b9edaf",incorrect:"#edafb6"},q=b.a.div(m||(m=Object(l.a)(["\n  border: 1px solid #a4a4a4;\n  margin: 1em 0em 1em 0em;\n  padding: 1em;\n  background: ",";\n  border-radius: 5px;\n"])),(function(e){return U[e.status]})),I=b.a.span(x||(x=Object(l.a)(["\n  cursor: pointer;\n"]))),E=b.a.div(p||(p=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),B=b.a.span(v||(v=Object(l.a)(["\n  margin: 0.2em;\n"])));var H=function(e){var t=e.flashcard,n=e.setShowAnswer,r=e.setFlashcardStatus,c=e.deleteFlashcard;return Object(f.jsxs)(q,{status:t.status,children:[Object(f.jsxs)(E,{children:[Object(f.jsxs)("div",{children:[Object(f.jsx)(I,{onClick:function(){return r("correct")},children:"\u2714\ufe0f"}),Object(f.jsx)(I,{onClick:function(){return r("incorrect")},children:"\u274c"}),Object(f.jsx)(I,{onClick:function(){return r("unattempted")},children:"\ud83d\udd04"})]}),Object(f.jsx)(I,{onClick:function(){return c()},children:"\ud83d\uddd1\ufe0f"})]}),Object(f.jsx)("div",{style:{margin:"1em 1em 1em 0em"},children:t.attempts.map((function(e,n){return Object(f.jsx)(B,{className:"badge badge-".concat("correct"===e?"success":"danger"),children:e},t.question+n)}))}),Object(f.jsx)(N,{flashcard:t}),Object(f.jsx)("button",{className:"btn btn-link btn-sm no-margin-left",onClick:function(){return n(!t.showAnswer)},children:t.showAnswer?"Hide Answer":"Reveal Answer"}),t.showAnswer&&Object(f.jsx)(F,{flashcard:t})]})};var J,R,L,M,P,T,V,W,$,z=function(e){var t=e.flashcards,n=e.setShowAnswer,r=e.setFlashcardStatus,c=e.deleteFlashcard,a=t.map((function(e,t){return Object(f.jsx)(H,{flashcard:e,setShowAnswer:function(){for(var e=arguments.length,r=new Array(e),c=0;c<e;c++)r[c]=arguments[c];return n.apply(void 0,[t].concat(r))},setFlashcardStatus:function(){for(var e=arguments.length,n=new Array(e),c=0;c<e;c++)n[c]=arguments[c];return r.apply(void 0,[t].concat(n))},deleteFlashcard:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return c.apply(void 0,[t].concat(n))}},e.question+t)}));return Object(f.jsx)(f.Fragment,{children:a})};function G(e){for(var t=[],n=0;n<e.length;){var r=e.indexOf("blipuid",n);if(-1===r)break;var c=e.indexOf("}",r),a=e.indexOf("}",c+1),s=e.substring(c+1,a);t.push(s.trim()),n=a+1}return t.filter((function(e,t){return t%2===0})).map((function(e){var t=function(e){for(var t=e.replace(/[^A-Fa-f0-9]/g,""),n=[],r=0;r<t.length/2;r++){var c=t.substr(2*r,2);n[r]=parseInt(c,16)}return new Uint8Array(n)}(e);return new Blob([t],{type:"application/octet-stream"})}))}function K(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=n,r.readAsDataURL(e)}))}var Q=b.a.div(J||(J=Object(l.a)(["\n  margin: 2em;\n  max-height: 93vh;\n  display: flex;\n  flex-direction: column;\n"]))),X=b.a.div(R||(R=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),Y=b.a.div(L||(L=Object(l.a)(["\n  overflow: none;\n  display: flex;\n  flex-direction: column;\n"]))),Z=b.a.span(M||(M=Object(l.a)(["\n  cursor: pointer;\n"]))),_=b.a.span(P||(P=Object(l.a)(["\n  margin: 0.2em;\n"]))),ee=b.a.span(T||(T=Object(l.a)(["\n  margin-left: 1em;\n  margin-right: 1em;\n  white-space: nowrap;\n"]))),te=b.a.div(V||(V=Object(l.a)(["\n  overflow: auto;\n"]))),ne=b.a.div(W||(W=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),re=b.a.div($||($=Object(l.a)(["\n  justify-self: flex-end;\n"])));var ce=function(){var e=Object(d.g)().deckName,t=Object(c.useState)([]),n=Object(o.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(null),i=Object(o.a)(s,2),l=i[0],j=i[1];Object(c.useEffect)((function(){var t=indexedDB.open("flashcards",1);t.onerror=function(e){console.error("Could not open connection to database, error code: ",e.target.errorCode)},t.onsuccess=function(t){var n=t.target.result;n.onerror=function(e){return console.error(e.target.errorCode)},j(n);var r=n.transaction("decks").objectStore("decks").get(e);r.onsuccess=function(e){var t,n;a(null!==(t=null===(n=r.result)||void 0===n?void 0:n.flashcards)&&void 0!==t?t:[])}},t.onupgradeneeded=function(e){console.log("Performing DB migration..."),e.target.result.createObjectStore("decks",{keyPath:"name"})}}),[e]),Object(c.useEffect)((function(){function e(e){return t.apply(this,arguments)}function t(){return(t=Object(A.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>0)||window.confirm("Add flashcards from clipboard?")){e.next=2;break}return e.abrupt("return");case 2:O(t.clipboardData);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return document.addEventListener("paste",e),function(){document.removeEventListener("paste",e)}}),[r.length]),Object(c.useEffect)((function(){l&&l.transaction("decks","readwrite").objectStore("decks").put({name:e,flashcards:r})}),[l,e,r]);var b=function(e){if(" "===e)return!0;var t=/^\s/.test(e),n=/\s$/.test(e);return Boolean(t^n)},h=function(e,t){e=e.split(/\t|\r\n|\n/);for(var n=[],r=0;r<e.length-1;r+=2){var c=e[r],a=e[r+1];n.push({question:c,answer:a,questionImageUrl:b(c)?t.shift():"",answerImageUrl:b(a)?t.shift():"",status:"unattempted",showAnswer:!1,attempts:[]})}return t.length>0&&(console.error("Something strange happened..."),console.log(e),console.log(t)),n};function O(e){return m.apply(this,arguments)}function m(){return(m=Object(A.a)(S.a.mark((function e(t){var n,r,c,s,i,o,l,d;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.getData("text"),r=t.getData("text/rtf"),c=G(r),s=[],i=Object(w.a)(c),e.prev=5,i.s();case 7:if((o=i.n()).done){e.next=16;break}return l=o.value,e.t0=s,e.next=12,K(l);case 12:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 14:e.next=7;break;case 16:e.next=21;break;case 18:e.prev=18,e.t2=e.catch(5),i.e(e.t2);case 21:return e.prev=21,i.f(),e.finish(21);case 24:d=h(n,s),a((function(e){return[].concat(Object(u.a)(e),Object(u.a)(d))}));case 26:case"end":return e.stop()}}),e,null,[[5,18,21,24]])})))).apply(this,arguments)}var x=function(e){var t=Object(u.a)(r).sort((function(t,n){return t.status===e&&n.status!==e?-1:t.status!==e&&n.status===e?1:0}));a(t)},p=function(e){var t=function(t){return t.attempts.reduce((function(t,n){return n===e?t+1:t}),0)},n=Object(u.a)(r).sort((function(e,n){return t(n)-t(e)}));a(n)},v=function(e){a(r.map((function(t){return Object(k.a)(Object(k.a)({},t),{},{showAnswer:e})})))},g=function(){a(function(e){for(var t,n=e.length;0!==n;){t=Math.floor(Math.random()*n),n--;var r=[e[t],e[n]];e[n]=r[0],e[t]=r[1]}return e}(Object(u.a)(r)))};return Object(f.jsxs)(Q,{children:[r.length>0?Object(f.jsxs)(X,{children:[Object(f.jsxs)("div",{children:["Sort:",Object(f.jsxs)(ne,{children:[Object(f.jsxs)("div",{children:[Object(f.jsx)(Z,{onClick:function(){return x("correct")},children:"\u2714\ufe0f"}),Object(f.jsx)(Z,{onClick:function(){return x("incorrect")},children:"\u274c"}),Object(f.jsx)(Z,{onClick:function(){return x("unattempted")},children:"\ud83d\udd04"})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)(Z,{onClick:function(){return p("correct")},children:Object(f.jsx)(_,{className:"badge badge-success",children:"# correct"})}),Object(f.jsx)(Z,{onClick:function(){return p("incorrect")},children:Object(f.jsx)(_,{className:"badge badge-danger",children:"# incorrect"})})]})]})]}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{style:{maxHeight:"50%"},onClick:function(){return g()},className:"btn btn-secondary btn-sm",children:"Shuffle"})}),Object(f.jsxs)("div",{className:"btn-group",children:[Object(f.jsx)("button",{style:{maxHeight:"50%"},className:"btn btn-secondary btn-sm",onClick:function(){return v(!0)},children:"Show Answers"})," ",Object(f.jsx)("button",{style:{maxHeight:"50%"},className:"btn btn-secondary btn-sm",onClick:function(){return v(!1)},children:"Hide Answers"})]}),Object(f.jsxs)(Y,{children:[Object(f.jsxs)(ee,{children:["Attempted:"," ",Object(f.jsx)("strong",{children:r.reduce((function(e,t){return t.attempts.length>0?e+1:e}),0)})]}),Object(f.jsxs)(ee,{children:["Unattempted:"," ",Object(f.jsx)("strong",{children:r.reduce((function(e,t){return t.attempts.length>0?e:e+1}),0)})]}),Object(f.jsxs)(ee,{children:["Total: ",Object(f.jsx)("strong",{children:r.length})]})]}),Object(f.jsx)(re,{children:Object(f.jsx)("button",{className:"btn btn-danger btn-small",onClick:function(){window.confirm("Are you sure you want to delete all your flashcards?")&&a([])},children:"Delete flashcards"})})]}):Object(f.jsx)("div",{children:Object(f.jsx)("h2",{children:"Copy some data, then use \u2318+V to create flashcards."})}),Object(f.jsx)(te,{children:Object(f.jsx)(z,{flashcards:r,setShowAnswer:function(e,t){var n=r.map((function(n,r){return r!==e?n:Object(k.a)(Object(k.a)({},n),{},{showAnswer:t})}));a(n)},setFlashcardStatus:function(e,t){var n=r.map((function(n,r){return r!==e?n:Object(k.a)(Object(k.a)({},n),{},{status:t,attempts:"unattempted"===t?[]:[].concat(Object(u.a)(n.attempts),[t])})}));a(n)},deleteFlashcard:function(e){a(r.filter((function(t,n){return n!==e})))}})})]})};var ae=function(){var e,t=Object(c.useState)(null!==(e=JSON.parse(localStorage.getItem("decks")))&&void 0!==e?e:[]),n=Object(o.a)(t,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){localStorage.setItem("decks",JSON.stringify(r))}),[r]),Object(f.jsx)(j.a,{children:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(j.b,{to:"/",children:"Decks"}),Object(f.jsxs)(d.d,{children:[Object(f.jsx)(d.b,{exact:!0,path:"/",children:Object(f.jsx)(g,{decks:r,setDecks:a})}),Object(f.jsx)(d.b,{path:"/deck/:deckName",children:Object(f.jsx)(ce,{})})]})]})})};i.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(ae,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.0128f7b5.chunk.js.map